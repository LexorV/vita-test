import{Q as v}from"./QPage-DSBNIFOy.js";import{C as d,r as c,a as h,n as y,F as t,y as e,x as n,G as g,z as i,H as P,I as k,J as x,D as p,A as C}from"./index-DlmhaCa1.js";import{e as B}from"./CommentForm.vue_vue_type_style_index_0_scoped_fe3fdbb5_lang-OKrdhW-x.js";import"./axios-CBiA5BwK.js";import{u as D}from"./post-store-BkoIMGwp.js";import{P as I}from"./PostComponent-BF4EZjjW.js";import"./user-store-BGc-YR5W.js";const q={key:0,class:"q-pa-md"},w={key:1,class:"q-pa-md text-negative"},L={key:0,class:"q-pa-md text-grey"},Q=d({__name:"PostList",setup(m){const s=D(),a=c(!1),o=c(null),l=h(()=>s.sortedPosts);async function _(){a.value=!0,o.value=null;try{await s.fetchAllPosts()}catch{o.value="Не удалось загрузить список записей"}finally{a.value=!1}}y(_);function f(u){s.removePostById(u)}return(u,S)=>(e(),t("div",null,[a.value?(e(),t("div",q,"Загрузка...")):o.value?(e(),t("div",w,g(o.value),1)):(e(),n(B,{key:2,bordered:"",separator:""},{default:i(()=>[(e(!0),t(k,null,x(l.value,r=>(e(),n(p(I),{key:r.post.id,post:r.post,author:r.author,"user-id":r.userId,"show-actions":!1,onDeleted:f},null,8,["post","author","user-id"]))),128)),l.value.length===0?(e(),t("div",L,"Записей пока нет")):P("",!0)]),_:1}))]))}}),G=d({__name:"IndexPage",setup(m){return(s,a)=>(e(),n(v,{padding:""},{default:i(()=>[C(p(Q))]),_:1}))}});export{G as default};
